<!doctype html>

<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>px-data-table Demo</title>

    <!-- Requires Webcomponents.js polyfill is provided by the page for browsers that don't support html imports -->
    <script src="../bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <!-- web-component-tester automatically provides local copy of brower.js below
         for any URL ending with "/web-component-tester/browser.js"
         when wct is run from the command line -->
    <script src="../web-component-tester/browser.js"></script>
    <link rel="import" href="../px-data-table.html" />
    <link rel="import" href="../../px-theme/px-theme-styles.html">
    <style include="px-theme-styles" is="custom-style"></style>
    <script src="px-data-table-test.js"></script>
  </head>

  <body>

      <h3>Data table demos</h3>

      <p>A very simple data table. Just displays data and has a sortable column.</p>
      <px-data-table id="table1" include-all-columns>
        <px-data-table-column name="first" sortable></px-data-table-column>
      </px-data-table>

      <hr>

      <p>Filterable column and selectable rows.</p>
      <px-data-table id="table2" selectable filterable include-all-columns>
        <px-data-table-column name="last" filterable></px-data-table-column>
      </px-data-table>

      <hr>

      <p>Display as columns instead of a grid.</p>
      <px-data-table id="table3" table-columns></px-data-table>

      <hr>

      <p>Display as rows instead of a grid.</p>
      <px-data-table id="table4" table-rows hide-pagination-control></px-data-table>

      <p>Very customized data table, with:</p>
      <ul>
        <li>Filter - only First and Color columns</li>
        <li>Custom filtering functions - on an entire word in the First column and on the button text in the Color column</li>
        <li>Sorting - on the first three columns</li>
        <li>Custom sorting functions - by the email domain in the Email column</li>
        <li>Html rendering - in the Color column</li>
        <li>Ellipsis - in Date column</li>
        <li>Interacting with the selected rows... there are <span>{{mySelectedRows.length}}</span> rows selected</li>
        <li>... and you can <button onclick="logSelectedRows()">console.log the selected rows</button></li>
        <li>... and you can receive px-row-click events from the table, which can be used by taking action on the row</li>
      </ul>

      <px-data-table id="myTable" filterable selectable striped show-column-chooser enable-column-reorder>
        <px-data-table-column name="index"></px-data-table-column>
        <px-data-table-column name="name"></px-data-table-column>
        <px-data-table-column
          name="first"
          max-column-character-width="10"
          ellipsis-clip-position="right">
        </px-data-table-column>
        <px-data-table-column editable name="last">
          <px-data-table-highlight highlight-type="cell" highlight-value="medium" highlight-method="wordBeginsWithLetterJ" import="../px-example-highlight.html"></px-data-table-highlight>
        </px-data-table-column>
        <px-data-table-column name="email"></px-data-table-column>
        <px-data-table-column name="boolean"></px-data-table-column>
        <px-data-table-column name="guid"></px-data-table-column>
        <px-data-table-column name="integer"></px-data-table-column>
        <px-data-table-column name="date"></px-data-table-column>
        <px-data-table-column name="address"
        max-column-character-width="10"
          ellipsis-clip-position="center"
        ></px-data-table-column>
        <px-data-table-column name="city"></px-data-table-column>
        <px-data-table-column name="state"></px-data-table-column>
        <px-data-table-column name="zip"></px-data-table-column>
        <!-- <px-data-table-column name="country"></px-data-table-column> -->
        <px-data-table-column name="country"
          type="dropdown"
          editable
          dropdown-items='["United Arab Emirates","Germany", "Romania","Israel", "Canada", "Mexico", "Egypt", "Niger","Chad", "Brazil", "Argentina","Costa Rica", "Singapore"]'>
        </px-data-table-column>
        <px-data-table-column name="image"
          max-column-character-width="20"
          ellipsis-clip-position="left">
        </px-data-table-column>
        <px-data-table-column name="phone"></px-data-table-column>
        <px-data-table-column name="color"></px-data-table-column>
      </px-data-table>
      <hr>

      <p>Filterable row test table</p>
      <px-data-table id="filtertest">
        <px-data-table-column name="first"></px-data-table-column>
      </px-data-table>
      <hr>

      <p>Reset the table with another set of data</p>
      <px-data-table table-rows hide-pagination-control id="resetTableWithNewData">
        <px-data-table-column name="first"></px-data-table-column>
      </px-data-table>
      <hr>

      <p>Update the table data with adddtional set of data</p>
      <px-data-table table-rows hide-pagination-control id="updateTableWithAdditionalData">
        <px-data-table-column name="first"></px-data-table-column>
      </px-data-table>
      <hr>

      <!-- <p>Hide pagination controls and show all data instead of first 10.</p>
      <px-data-table hide-pagination-control id="table6"></px-data-table> -->

      <template is="dom-bind" id="app">
        <px-data-table id="domrepeat" table-data="{{minidata}}">
          <template is="dom-repeat" items="{{meta}}">
            <px-data-table-column name="{{item.name}}"></px-data-table-column>
          </template>
        </px-data-table>
      </template>
      <script>
        var app = document.querySelector('#app');
        app.meta = [{name: 'first'}, {name: 'last'}, {name: 'email'}];
      </script>

      <p>Selection after data update does not contain unreached data</p>
      <px-data-table id="updateTableWithSelection" selectable></px-data-table>


      <p>Remote Data, page 1 of 10</p>
      <px-data-table 
        id="remoteData1" 
        total-entries="100" 
        data-remote="true" 
        >
      </px-data-table>

      <p>Remote Data, page 2 of 10</p>
      <px-data-table 
        id="remoteData2" 
        first-item-index="11" 
        total-entries="100" 
        data-remote="true" 
        page-size="10"
        >
      </px-data-table>

      <p>Remote Data, dropdown</p>
      <px-data-table 
        id="remoteData3" 
        first-item-index="1" 
        total-entries="100" 
        data-remote="true" 
        page-size="10"
        >
      </px-data-table>

      <style>
        #greedyHeightWithScroll {
          height: 100%;
          width: 100%;
          display: flex;
          flex: 1;
          flex-direction: column;
        }
      </style>

      <p>Greedy-height with Scroll</p>
      <div id="styledContainer" style="flex:1; display:flex; border: 1px solid cyan; height:200px;">
        <px-data-table 
          enable-column-resize="true"
          greedy-height-with-scroll="true"
          id="greedyHeightWithScroll"
          page-size="10" 
          show-column-chooser="true"
          table-rows="true" 
          >
        </px-data-table>
      </div>

  </body>
</html>
